# REST API бэкенды (сервисы) проекта

## Ядро

| Сервис (REST API) | Контракт для ядра (standard) | Контракт для конфигурирования (admin/private) | Назначение |
|---|---|---|---|
| Core Aggregator Backend (Sentralix Backend) | Публичное API платформы для фронта/внешних интеграций | Прокси-эндпоинты для админки/конфигурирования коннекторов | Единая точка входа, агрегация и маршрутизация запросов в сервисы |
| Orchestrator Service | Управление сессиями/запусками/сценариями | — | Оркестрация сценариев, пайплайнов и логики диалога |
| ToolCall Execution Service | Выполнение tool/function calls | — | Маршрутизация и выполнение инструментов, нормализация результатов |

## Данные

| Сервис (REST API) | Контракт для ядра (standard) | Контракт для конфигурирования (admin/private) | Назначение |
|---|---|---|---|
| Knowledge Base / Vector Store Service | Ingestion (документы), поиск/retrieval | — | Хранение и поиск знаний, индексация, векторное хранилище |
| Assistant Configuration Service | Получение активных конфигов/версий | CRUD конфигов ассистентов/профилей/версий | Хранение настроек ассистентов, версионирование, публикации |

## Провайдеры

| Сервис (REST API) | Контракт для ядра (standard) | Контракт для конфигурирования (admin/private) | Назначение |
|---|---|---|---|
| LLM Provider Service | Единый контракт к LLM (chat/completions/embeddings при необходимости) | Управление провайдерами/ключами/лимитами/моделями (если требуется) | Агрегация всех LLM-провайдеров под единым контрактом |
| Speech Provider Service | ASR (распознавание) / TTS (синтез) | Управление провайдерами/голосами/параметрами (если требуется) | Агрегация провайдеров речи под единым контрактом |
| MCP Provider Service | Единый контракт к MCP-сервисам/инструментам | Управление подключениями/интеграциями MCP (если требуется) | Агрегация MCP-сервисов под единым контрактом |

## Биллинг

| Сервис (REST API) | Контракт для ядра (standard) | Контракт для конфигурирования (admin/private) | Назначение |
|---|---|---|---|
| Billing Service | Тарифы/подписки/платежи/квоты/лицензии | Интеграционные настройки/маппинги (если требуется) | Единый биллинг, интеграция с офисными системами CRM/ERP/1С/ЭДО |
| Office Integration Service (CRM/ERP/1C/ЭДО) | Эндпоинты синхронизации/вебхуки (если выделяется отдельно) | — | Отдельный сервис интеграции с офисными системами (если не включать внутрь Billing Service) |

## Коннекторы (состав сервисов)

| Коннектор | REST API бэкенды внутри коннектора | Внутренние сервисы внутри коннектора | Контракт для ядра (standard) | Контракт для конфигурирования (admin/private) |
|---|---|---|---|---|
| VoIP Connector | Бэкенд SBC (транки и регистрации)<br>Бэкенд сервиса списков обзвона<br>Бэкенд настроек коннектора | SIP регистрации (Asterisk)<br>SIP транки (Asterisk)<br>Обзвон (Asterisk) | Унифицированные команды/события звонков | Конфиг операторов/SIP/SBC/маршрутизации + управление списками обзвона |
| Telegram Connector | Бэкенд управления коннекторами (ботами) Telegram | Сервис Telegram-ботов | Унифицированные сообщения/события канала | Управление ботами (токены/вебхуки/настройки) |
| VK Connector | Бэкенд коннектора VK | Сервис коннектора VK | Унифицированные сообщения/события канала | Конфиг канала/ключей/вебхуков |
| Avito Connector | Бэкенд коннектора Avito | Сервис коннектора Avito | Унифицированные сообщения/события канала | Конфиг канала/ключей/вебхуков |
| Max Connector | Бэкенд коннектора Max | Сервис коннектора Max | Унифицированные сообщения/события канала | Конфиг канала/ключей/вебхуков |
| JivoSite Connector | Бэкенд коннектора JivoSite | Сервис коннектора JivoSite | Унифицированные сообщения/события канала | Конфиг канала/ключей/вебхуков |

