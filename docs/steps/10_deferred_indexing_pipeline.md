### Шаг 10: Отложенная индексация (полный цикл)
- Цель: 
  - Реализовать полный цикл индексации через провайдера: создание индекса, получение `external_id`, загрузка/прикрепление файлов, запуск индексации, проверка статуса, синхронизация статуса в БД, удаление индекса у провайдера.
- Действия: 
  - Используемые переменные окружения:
    - `DATABASE_URI` — строка подключения к MariaDB (SQLAlchemy). Используется для чтения/обновления `rag_indexes`, `rag_index_files`, фиксации статусов индексации.
    - `YC_FOLDER_ID` — идентификатор каталога Yandex Cloud (для провайдера `yandex`).
    - `YC_SA_KEY_JSON_B64` — base64-строка с JSON ключом сервисного аккаунта Yandex Cloud (для провайдера `yandex`).
  - Реализовать сервис оркестрации индексации (pipeline), который выполняет:
    - создание индекса у провайдера;
    - сохранение `rag_indexes.external_id`;
    - постановку `indexing_status = in_progress` и обновление `indexed_at`;
    - подгрузку/прикрепление файлов из `rag_index_files`;
    - при прикреплении файлов передавать `chunking_strategy` из `rag_files.chunking_strategy` (на уровне файла);
    - запуск индексации;
    - опрос статуса и обновление `indexing_status` в `rag_indexes` (`done`/`failed`).
  - Реализовать операции удаления индекса у провайдера при удалении локального индекса (или по отдельной команде API).
  - Реализовать API ручки для:
    - запуска индексации по локальному `index_id`;
    - получения текущего статуса индексации (из БД и/или провайдера).
  - Обеспечить идемпотентность:
    - повторный запуск не должен приводить к повреждению состояния;
    - если `external_id` уже есть — не создавать индекс повторно без явного запроса.
  - Обеспечить доменную изоляцию во всех этапах.
- Ожидаемый результат: 
  - Внешний бэкенд может запустить индексацию и наблюдать статус, а сервис синхронизирует состояния с провайдером.
- Критерии готовности (Definition of Done):  
  - `external_id` создаётся и сохраняется в `rag_indexes`.
  - `indexing_status` корректно переходит по стадиям (`not_indexed` → `in_progress` → `done/failed`).
  - Ошибки провайдера приводят к `failed` и записываются в логи.
  - Удаление локального индекса корректно удаляет индекс у провайдера (при наличии `external_id`).
  - Swagger документирован (описания, схемы ошибок, коды ответов).
- Выполнено: нет
