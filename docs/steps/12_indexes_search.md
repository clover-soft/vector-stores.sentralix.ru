### Шаг 12: Поиск по базе знаний через индекс (продуктовая ручка)
- Цель:
  - Дать фронтенду единую “продуктовую” ручку поиска по базе знаний, не требующую знания `external_id` и провайдерного API.
- Действия:
  - Добавить эндпоинт:
    - `POST /api/v1/indexes/{index_id}/search`
  - Вход:
    - `index_id: str` (path)
    - `X-Domain-Id: str` (header)
    - body (примерно как у провайдера):
      - `query: str | list[str]`
      - `filters: dict | null`
      - `max_num_results: int | null`
      - `ranking_options: dict | null`
      - `rewrite_query: bool | null`
  - Выход:
    - `items: list[dict]` (как возвращает провайдер)
  - Поведение:
    - Найти локальный индекс в домене.
    - Проверить наличие `external_id`.
    - Вызвать провайдера `search_vector_store(external_id, ...)`.
    - Важно (для отложенной индексации):
      - ручка поиска не должна ждать завершения индексирования файлов;
      - результаты могут быть частичными, если часть файлов ещё в статусе `in_progress`;
      - если фронтенду нужна гарантированная актуальность, он должен предварительно вызвать ручки polling/sync (см. шаги 7 и 9).
- Ожидаемый результат:
  - UI выполняет поиск по индексу одной ручкой сервиса.
- Критерии готовности (Definition of Done):
  - Реализована ручка `POST /api/v1/indexes/{index_id}/search`.
  - Корректные ошибки: 404 (индекс не найден), 409/400 (нет `external_id`), 502 (ошибка провайдера).
  - Swagger документирован.
- Выполнено: нет
